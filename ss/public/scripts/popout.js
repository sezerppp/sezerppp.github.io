function parseQueryString(){var e=window.location.search.substring(1).split("&"),t={attrLength:0},n={};for(var r=0;r<e.length;r++){var i=e[r].split("=");if(i[0]!==undefined&&i[1]!==undefined){var s=decodeURIComponent(i[1]);i[0]==="tags"&&(t.tags=s.split(",")),i[0]==="ev"&&validateEventNameAndEventAttributeKey(s)&&(t.event=s);if(i[0].search("eva")!==-1){var o=i[0].indexOf("[")+1,u=i[0].indexOf("]")-o,a=i[0].substr(o,u);validateEventNameAndEventAttributeKey(a)&&validateEventAttributeValue(s)&&(n[a]=checkAndConvertToBooleanOrNumber(s),t.attrLength+=1)}}}return t.attrLength!==0&&(t.attributes=n),t}function validateEventNameAndEventAttributeKey(e){var t=/^[a-zA-Z0-9-]+$/,n=e.length;return n<=50&&t.test(e)?!0:!1}function validateEventAttributeValue(e){var t=e.length;return t>0&&t<=200?!0:!1}function checkAndConvertToBooleanOrNumber(e){var t=/^[0-9-.]+$/,n=e.toLowerCase();return t.test(e)?e.indexOf(".")===-1?parseInt(e,10):parseFloat(e,10):n==="true"?!0:n==="false"?!1:e}
